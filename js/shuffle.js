(function(a){function b(a){var b="";if(a=="lowerLetter"){b="йцукенгшщзхъфывапролджэячсмитьбюё"}else if(a=="upperLetter"){b="ЙЦУКЕНГШЩЗХЪФЫВАПРОЛДЖЭЯЧСМИТЬБЮЁ"}else if(a=="symbol"){b=".,1234567890-=!№;%:?*()_+"}var c=b.split("");return c[Math.floor(Math.random()*c.length)]}a.fn.shuffleLetters=function(c){var d=a.extend({step:6,fps:30,text:"Сделайте дверь своими руками!",callback:function(){}},c);return this.each(function(){var c=a(this),e="";if(c.data("animated")){return true}c.data("animated",true);if(d.text){e=d.text.split("")}else{e=c.text().split("")}var f=[],g=[];for(var h=0;h<e.length;h++){var i=e[h];if(i==" "){f[h]="space";continue}else if(/[а-я]/.test(i)){f[h]="lowerLetter"}else if(/[А-Я]/.test(i)){f[h]="upperLetter"}else{f[h]="symbol"}g.push(h)}c.html("");(function j(a){var h,i=g.length,k=e.slice(0);if(a>i){c.data("animated",false);d.callback(c);return}for(h=Math.max(a,0);h<i;h++){if(h<a+d.step){k[g[h]]=b(f[g[h]])}else{k[g[h]]=""}}c.text(k.join(""));setTimeout(function(){j(a+1)},1e3/d.fps)})(-d.step)})}})(jQuery)

var container=$("#shuffle");
container.shuffleLetters();
setTimeout(function(){container.shuffleLetters({"text":'Конструктор стальных дверей'});},3000);